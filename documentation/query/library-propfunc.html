<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<!--

    Licensed to the Apache Software Foundation (ASF) under one or more
    contributor license agreements.  See the NOTICE file distributed with
    this work for additional information regarding copyright ownership.
    The ASF licenses this file to You under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE- 2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->

  <link href="/jena-doc/css/bootstrap.css" rel="stylesheet" type="text/css">
  <link href="/jena-doc/css/bootstrap-extension.css" rel="stylesheet" type="text/css">

  <title>Apache Jena - Property Functions in ARQ</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
  <script src="/js/jena-navigation.js" type="text/javascript"></script>
  <script src="/js/bootstrap.min.js"></script>
</head>

<body>
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
        <a class="brand" href="/jena-doc/index.html" style="padding-top: 6px; padding-bottom: 0px;">
            <img class="logo-menu" src="/images/jena-logo/jena-logo-notext-small.png">
          </a>
          <a class="brand" href="/jena-doc/index.html">Apache Jena</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li id="homepage"><a href="/jena-doc/index.html"><i class="icon-home"></i> Home</a></li>
              <li id="download"><a href="/jena-doc/download/index.html"><i class="icon-download-alt"></i> Download</a></li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="icon-book"></i> Learn <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li class="nav-header">Tutorials</li>
                  <li><a href="/jena-doc/tutorials/rdf_api.html">RDF core API tutorial</a></li>
                  <li><a href="/jena-doc/tutorials/sparql.html">SPARQL tutorial</a></li>
                  <li><a href="/jena-doc/documentation/query/manipulating_sparql_using_arq.html">Manipulating SPARQL using ARQ</a></li>
                  <li><a href="/jena-doc/tutorials/using_jena_with_eclipse.html">Using Jena with Eclipse</a></li>
                  <li><a href="/jena-doc/documentation/notes/index.html">Recipes</a></li>
                  <li class="divider"></li>
                  <li class="nav-header">Reference</li>
                  <li><a href="/jena-doc/documentation/index.html">Overview</a></li>
                  <li><a href="/jena-doc/documentation/javadoc/">Javadoc</a></li>
                  <li><a href="/jena-doc/documentation/tools/index.html">Command-line tools</a></li>
                  <li><a href="/jena-doc/documentation/rdf/index.html">RDF API</a></li>
                  <li><a href="/jena-doc/documentation/query/index.html">ARQ (SPARQL)</a></li>
                  <li><a href="/jena-doc/documentation/serving_data/index.html">Fuseki</a></li>
                  <li><a href="/jena-doc/documentation/tdb/index.html">TDB</a></li>
                  <li><a href="/jena-doc/documentation/assembler/index.html">Assembler</a></li>
                  <li><a href="/jena-doc/documentation/sdb/index.html">SDB</a></li>
                  <li><a href="/jena-doc/documentation/ontology/">Ontology API</a></li>
                  <li><a href="/jena-doc/documentation/inference/index.html">Inference API</a></li>
                </ul>
              </li>
              <li id="ask"><a href="/jena-doc/help_and_support/index.html"><i class="icon-question-sign"></i> Ask</a></li>
              
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="icon-bullhorn"></i> Get involved <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li><a href="/jena-doc/getting_involved/index.html">Contribute</a></li>
                  <li><a href="/jena-doc/help_and_support/bugs_and_suggestions.html">Report a bug</a></li>
                  <li class="divider"></li>
                  <li class="nav-header">Project</li>
                  <li><a href="/jena-doc/about_jena/about.html">About Jena</a></li>
                  <li><a href="/jena-doc/about_jena/roadmap.html">Roadmap</a></li>
                  <li><a href="/jena-doc/about_jena/architecture.html">Architecture</a></li>
                  <li><a href="/jena-doc/about_jena/team.html">Project team</a></li>
                  <li><a href="/jena-doc/about_jena/contributions.html">Related projects</a></li>
                  <li class="divider"></li>
                  <li class="nav-header">ASF</li>
                  <li><a href="http://www.apache.org/">Apache Software Foundation</a></li>
                  <li><a href="http://www.apache.org/licenses/LICENSE-2.0">License</a></li>
                  <li><a href="http://www.apache.org/foundation/thanks.html">Thanks</a></li>
                  <li><a href="http://www.apache.org/foundation/sponsorship.html">Become a Sponsor</a></li>
                  <li><a href="http://www.apache.org/security/">Security</a></li>
                </ul>
              </li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>


<div class="container">
	<div class="row-fluid">
	<div class="span12">
	<h1 class="title">Property Functions in ARQ</h1>
  <p>SPARQL allows custom property functions to add functionality to the
triple matching process. Property functions can be
<a href="extension.html">registered or dynamically loaded</a>.</p>
<p>See also the <a href="../larq/">free text search</a> page.</p>
<p>See also the FILTER functions
<a href="library-function.html">FILTER functions library</a>.</p>
<h2 id="property-function-library">Property Function Library</h2>
<p>Prefix <code>apf:</code> which is <code>&lt;http://jena.hpl.hp.com/ARQ/property#&gt;</code>.</p>
<p>Direct loading using a URI prefix of
<code>&lt;java:com.hp.hpl.jena.sparql.pfunction.library.&gt;</code> (note the final
dot) also works.</p>
<p>The prefix <code>list:</code> is <code>http://jena.hpl.hp.com/ARQ/list#</code>.</p>
<table>
<tr><th>Property name</th><th>Description</th></tr>
<tr><td>
<i><code>list</code> </i><code>list:member</code> <i><code>member</code></i>
</td><td>
Membership of an RDF List (RDF Collection). If <i>list</i> is not bound
or a constant, find and iterate all lists in the graph (can be
slow) else evaluate for one particular list. If <i>member</i> a
variable, generate solutions with <i>member</i> bound to each element in
the list. If <i>member</i> is bound or a constant expression, test to
see if a member of the list.
</td></tr>
<tr><td>
<code><i>list </i>list:index <i>(index member)</i></code>
</td><td>
Index of an RDF List (RDF Collection). If <i>list</i> is not bound or a
constant, find and iterate all lists in the graph (can be slow)
else evaluate for one particular list. The object is a list pair,
either element can be bound, unbound or a fixed node. Unbound
variables in the object list are bound by the property function.
</td></tr>
<tr><td>
<code><i>list </i>list:length <i>length</i></code>
</td><td>
Length of an RDF List (RDF Collection). If <i>list</i> is not bound or a
constant, find and iterate all lists in the graph (can be slow)
else evaluate for one particular list. The object is tested against
or bound to the length of the list.
</td></tr>
<tr><td>
<code><i>container </i>rdfs:member <i>member</i></code>
</td><td>
Membership of an RDF Container (rdf:Bag, rdf:Seq, rdf:Alt).
Pre-registered URI. If this infers with queries running over a Jena
inference model which also provides <code>rdfs:member</code>, then remove this
from the global registry.
</td></tr>
<tr><td>
<code>  PropertyFunctionRegistry.get().<br>       remove(RDFS.member.getURI()) ;</code>
<code>apf:textMatch</code>
</td><td>
Free text match.  See the [free text search](lucene-arq.html) page
for details.
</td></tr>
<tr><td>
<code><i>bag </i>apf:bag <i>member</i></code>
</td><td>
The argument <i>bag</i> must be bound by this point in the query or a
constant expression. If <i>bag</i> is bound or a URI, and <i>member</i> a
variable, generate solutions with <i>member</i> bound to each element in
the bag. If <i>member</i> is bound or a constant expression, test to see
if a member of the list.
</td><tr>
<tr><td>
<code><i>seq</i> apf:seq <i>member</i></code>
</td><td>
The argument <i>seq</i> must be bound by this point in the query or a
constant expression. If <i>seq</i> is bound or a URI, and <i>member</i> a
variable, generate solutions with <i>member</i> bound to each element in
the sequence. If <i>member</i> is bound or a constant expression, test
to see if a member of the list.
</td><tr>
<tr><td>
<code><i>seq</i> apf:alt <i>member</i></code>
</td><td>
The argument <i>alt</i> must be bound by this point in the query or a
constant expression. If <i>alt</i> is bound or a URI, and <i>member</i> a
variable, generate solutions with <i>member</i> bound to each element in
the alt . If <i>member</i> is bound or a constant expression, test to
see if a member of the list.
</td><tr>
<tr><td>
<i><code>varOrTerm</code></i><code>apf:assign</code><i><code>varOrTerm</code></i>
</td><td>
Assign an RDF term from one side to the other.  If both are fixed
RDF terms or bound variables, it becomes a boolean test that the
subject is the same RDF term as the object.
</td><tr>
<tr><td>
<i><code>iri</code></i><code>apf:splitIRI (<i>namespace</i> <i> localname</i>)</code><br />
<i><code>iri</code></i><code>apf:splitURI (<i>namespace</i> <i> localname</i>)</code>
</td><td>
Split the IRI or URI into namespace (an IRI) and local name (a
string). Compare if given values or bound variables, otherwise set
the variable. The object is a list with 2 elements.
<code>splitURI</code> is an synonym.
</td><tr>
<tr><td>
<code><i>subject</i> apf:str <i>object</i></code>
</td><td>
The <i>subject</i> is the string form of the <i>object</i>, like the function
str().
<i>Object</i> must be bound or a constant. <i>Object</i> can not be a blank
node (see <code>apf:blankNode</code>)
</td><tr>
<tr><td>
<code><i>subject</i> apf:blankNode <i>label</i><br>           <code><i>subject</i> apf:bnode <i>label</i><br></td></code>
</td><td>
<i>Subject</i> must be bound to a blank node or a constant. <i>Label</i> is
either a string, in which case test for whether this is the blank
node label of <i>subject</i>, or it is a variable, which is assigned the
blank node label as a plain string. Argument mismatch causes no
match. Use with care.
</td><tr>
<tr><td>
<code><i>subject</i> apf:versionARQ <i>version</i><br>             <br>  </code>
</td><td>
Set the <i>subject</i> to the IRI for ARQ and set the object to the
version string (format "N.N.N" where N is a number). If any of the
variables are already set, test for the correct value.
</td><tr>
<tr><td>
<code><i>var</i> apf:concat <i>(arg arg ...)</i></code>
</td><td>
Concatenate the arguments in the object list as strings, and
assign to <code><i>var</i></code>.
</td><tr>
</table>

<p><a href="index.html">ARQ documentation index</a></p>
  </div>
</div>

	<hr>
    <div id="footer">
    <div class="copyright">
      <p>
        Copyright &copy; 2011&ndash;2013 The Apache Software Foundation, Licensed under
        the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>.
        <br />
        Apache Jena, Jena, the Apache Jena project logo,
        Apache and the Apache feather logos are trademarks of The Apache Software Foundation.
      </p>
    </div>
  </div>
      
      
</div><!--/.container -->

</body>
</html>
