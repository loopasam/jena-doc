<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<!--

    Licensed to the Apache Software Foundation (ASF) under one or more
    contributor license agreements.  See the NOTICE file distributed with
    this work for additional information regarding copyright ownership.
    The ASF licenses this file to You under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE- 2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->

  <link href="/jena-doc/css/bootstrap.min.css" rel="stylesheet" type="text/css">
  <link href="/jena-doc/css/bootstrap-extension.css" rel="stylesheet" type="text/css">

  <title>Apache Jena - SDB Store Description</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
  <script src="/jena-doc/js/jena-navigation.js" type="text/javascript"></script>
  <script src="/jena-doc/js/bootstrap.min.js" type="text/javascript"></script>
</head>

<body>
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
        <a class="brand" href="/jena-doc/index.html" style="padding-top: 6px; padding-bottom: 0px;">
            <img class="logo-menu" src="/jena-doc/images/jena-logo/jena-logo-notext-small.png" alt="jena logo">
          </a>
          <a class="brand" href="/jena-doc/index.html">Apache Jena</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li id="homepage"><a href="/jena-doc/index.html"><i class="icon-home"></i> Home</a></li>
              <li id="download"><a href="/jena-doc/download/index.html"><i class="icon-download-alt"></i> Download</a></li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="icon-book"></i> Learn <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li class="nav-header">Tutorials</li>
                  <li><a href="/jena-doc/tutorials/index.html">Overview</a></li>
                  <li><a href="/jena-doc/tutorials/rdf_api.html">RDF core API tutorial</a></li>
                  <li><a href="/jena-doc/tutorials/sparql.html">SPARQL tutorial</a></li>
                  <li><a href="/jena-doc/documentation/query/manipulating_sparql_using_arq.html">Manipulating SPARQL using ARQ</a></li>
                  <li><a href="/jena-doc/tutorials/using_jena_with_eclipse.html">Using Jena with Eclipse</a></li>
                  <li><a href="/jena-doc/documentation/notes/index.html">How-To's</a></li>
                  <li class="divider"></li>
                  <li class="nav-header">References</li>
                  <li><a href="/jena-doc/documentation/index.html">Overview</a></li>
                  <li><a href="/jena-doc/documentation/javadoc/">Javadoc</a></li>
                  <li><a href="/jena-doc/documentation/rdf/index.html">RDF API</a></li>
                  <li><a href="/jena-doc/documentation/io/">RDF I/O</a></li>
                  <li><a href="/jena-doc/documentation/query/index.html">ARQ (SPARQL)</a></li>
                  <li><a href="/jena-doc/documentation/query/text-query.html">Text Search</a></li>
                  <li><a href="/jena-doc/documentation/tdb/index.html">TDB</a></li>
                  <li><a href="/jena-doc/documentation/sdb/index.html">SDB</a></li>
                  <li><a href="/jena-doc/documentation/serving_data/index.html">Fuseki</a></li>
                  <li><a href="/jena-doc/documentation/assembler/index.html">Assembler</a></li>
                  <li><a href="/jena-doc/documentation/ontology/">Ontology API</a></li>
                  <li><a href="/jena-doc/documentation/inference/index.html">Inference API</a></li>
                  <li><a href="/jena-doc/documentation/tools/index.html">Command-line tools</a></li>
                </ul>
              </li>
              <li id="ask"><a href="/jena-doc/help_and_support/index.html"><i class="icon-question-sign"></i> Ask</a></li>
              
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="icon-bullhorn"></i> Get involved <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li><a href="/jena-doc/getting_involved/index.html">Contribute</a></li>
                  <li><a href="/jena-doc/help_and_support/bugs_and_suggestions.html">Report a bug</a></li>
                  <li class="divider"></li>
                  <li class="nav-header">Project</li>
                  <li><a href="/jena-doc/about_jena/about.html">About Jena</a></li>
                  <li><a href="/jena-doc/about_jena/roadmap.html">Roadmap</a></li>
                  <li><a href="/jena-doc/about_jena/architecture.html">Architecture</a></li>
                  <li><a href="/jena-doc/about_jena/team.html">Project team</a></li>
                  <li><a href="/jena-doc/about_jena/contributions.html">Related projects</a></li>
                  <li class="divider"></li>
                  <li class="nav-header">ASF</li>
                  <li><a href="http://www.apache.org/">Apache Software Foundation</a></li>
                  <li><a href="http://www.apache.org/licenses/LICENSE-2.0">License</a></li>
                  <li><a href="http://www.apache.org/foundation/thanks.html">Thanks</a></li>
                  <li><a href="http://www.apache.org/foundation/sponsorship.html">Become a Sponsor</a></li>
                  <li><a href="http://www.apache.org/security/">Security</a></li>
                </ul>
              </li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>


<div class="container">
	<div class="row-fluid">
	<div class="span12">
	<h1 class="title">SDB Store Description</h1>
  <p>Use of an SDB store requires a <code>Store</code> object which is described in
two parts:</p>
<ul>
<li>a connection to the database</li>
<li>a description of the store configuration</li>
</ul>
<p>These can be built from a
<a href="../assembler/">Jena assembler</a>
description.</p>
<p>Store objects themselves are lightweight so connections to an SDB
database can be created on a per-request basis as required for use
in J2EE application servers.</p>
<h2 id="contents">Contents</h2>
<ul>
<li><a href="#store-descriptions">Store Descriptions</a></li>
<li><a href="#sdb-connections">SDB Connections</a></li>
<li><a href="#example">Example</a></li>
<li><a href="#vocabulary">Vocabulary</a><ul>
<li><a href="#store">Store</a></li>
<li><a href="#connection">Connection</a></li>
</ul>
</li>
</ul>
<h2 id="store-descriptions">Store Descriptions</h2>
<p>A store description identifies which storage layout is being used,
the connection to use and the database type.</p>
<div class="codehilite"><pre> <span class="p">[]</span> <span class="n">rdf</span><span class="o">:</span><span class="n">type</span> <span class="n">sdb</span><span class="o">:</span><span class="n">Store</span><span class="err"> </span><span class="p">;</span>
     <span class="nl">sdb:</span><span class="n">layout</span>         <span class="s">&quot;layout2&quot;</span><span class="err"> </span><span class="p">;</span>
     <span class="nl">sdb:</span><span class="n">connection</span>     <span class="o">&lt;</span><span class="err">#</span><span class="n">conn</span><span class="o">&gt;</span> <span class="p">.</span>

 <span class="o">&lt;</span><span class="err">#</span><span class="n">conn</span><span class="o">&gt;</span> <span class="p">...</span>
</pre></div>


<h2 id="sdb-connections">SDB Connections</h2>
<p>SDB connections, objects of class <code>SDBConnection</code>, abstract away
from the details of the connection and also provide consist logging
and transaction operations. Currently, SDB connections encapsulate
JDBC connections but other connection technologies, such as direct
database APIs, can be added.</p>
<h2 id="example">Example</h2>
<p>The <code>sdbType</code> is needed for both a connection and for a store
description. It can be given in either part of the complete store
description. If it is specified in both places, it must be the
same.</p>
<div class="codehilite"><pre><span class="err">@</span><span class="n">prefix</span> <span class="n">rdfs</span><span class="o">:</span>      <span class="o">&lt;</span><span class="n">http</span><span class="o">:</span><span class="c1">//www.w3.org/2000/01/rdf-schema#&gt; .</span>
<span class="err">@</span><span class="n">prefix</span> <span class="n">rdf</span><span class="o">:</span>      <span class="o">&lt;</span><span class="n">http</span><span class="o">:</span><span class="c1">//www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .</span>
<span class="err">@</span><span class="n">prefix</span> <span class="n">ja</span><span class="o">:</span>       <span class="o">&lt;</span><span class="n">http</span><span class="o">:</span><span class="c1">//jena.hpl.hp.com/2005/11/Assembler#&gt; .</span>
<span class="err">@</span><span class="n">prefix</span> <span class="n">sdb</span><span class="o">:</span>      <span class="o">&lt;</span><span class="n">http</span><span class="o">:</span><span class="c1">//jena.hpl.hp.com/2007/sdb#&gt; .</span>

<span class="o">&lt;</span><span class="err">#</span><span class="n">myStore</span><span class="o">&gt;</span> <span class="n">rdf</span><span class="o">:</span><span class="n">type</span> <span class="n">sdb</span><span class="o">:</span><span class="n">Store</span><span class="err"> </span><span class="p">;</span>
     <span class="nl">sdb:</span><span class="n">layout</span>         <span class="s">&quot;layout2&quot;</span><span class="err"> </span><span class="p">;</span>
     <span class="nl">sdb:</span><span class="n">connection</span>     <span class="o">&lt;</span><span class="err">#</span><span class="n">conn</span><span class="o">&gt;</span><span class="err"> </span><span class="p">;</span>
     <span class="p">.</span>

<span class="o">&lt;</span><span class="err">#</span><span class="n">conn</span><span class="o">&gt;</span> <span class="n">rdf</span><span class="o">:</span><span class="n">type</span> <span class="n">sdb</span><span class="o">:</span><span class="n">SDBConnection</span><span class="err"> </span><span class="p">;</span>
     <span class="nl">sdb:</span><span class="n">sdbType</span>        <span class="s">&quot;derby&quot;</span><span class="err"> </span><span class="p">;</span>
     <span class="nl">sdb:</span><span class="n">sdbName</span>        <span class="s">&quot;DB/SDB2&quot;</span><span class="err"> </span><span class="p">;</span>
     <span class="nl">sdb:</span><span class="n">driver</span>         <span class="s">&quot;org.apache.derby.jdbc.EmbeddedDriver&quot;</span><span class="err"> </span><span class="p">;</span>
     <span class="p">.</span>
</pre></div>


<p>Examples of assembler files are to be found in the <code>Store/</code>
directory in the distribution.</p>
<h2 id="vocabulary">Vocabulary</h2>
<h3 id="store">Store</h3>
<p>The value of <code>sdbType</code> needed for the connection also applies to
choosing the store type.</p>
<p><code>layout</code>
  ~ Layout type (e.g. "layout2", "layout2/hash" or
    "layout2/index").</p>
<p><code>connection</code>
  ~ The object of this triple is the subject of the connection
    description.</p>
<p><code>engine</code>
  ~ Set the MySQL engine type (MySQL only).</p>
<h3 id="connection">Connection</h3>
<dl>
<dt><code>sdbType</code></dt>
<dd>The type of the database (e.g. "oracle", "MSSQLServerExpress",
"postgresql", "mysql"). Controls both creating the JDBC URL, if not
given explicitly, and the store type.</dd>
<dt><code>sdbName</code></dt>
<dd>Name used by the database service to select a database. Oracle
SID.</dd>
<dt><code>sdbHost</code></dt>
<dd>Host name for the database server. Include <em>:port</em> to change
the port from the default for the database.</dd>
<dt><code>sdbUser</code></dt>
<dt><code>sdbPassword</code></dt>
<dd>Database user name and password. The environment variables
<code>SDB_USER</code> and <code>SDB_PASSWORD</code> are a better way to pass in the user
and password because they are not then written into store
description files. In Java programs, the system properties
<code>jena.db.user</code> and <code>jena.db.password</code> can be used.</dd>
<dt><code>driver</code></dt>
<dd>The JDBC driver class name. Normally, the system looks up the
<code>sdbType</code> to find the driver. Setting this property overrides that
choice.</dd>
<dt><code>jdbcURL</code></dt>
<dd>If necessary, the JDBC URL can be set explicitly, not
constructed by SDB. The <code>sdbType</code> is still needed.</dd>
</dl>
  </div>
</div>

</div><!--/.container -->

    <footer class="footer">
      <div class="container">
        <p>Copyright &copy; 2011&ndash;2013 The Apache Software Foundation, Licensed under
        the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>.
        </p>
        <p>
        Apache Jena, Jena, the Apache Jena project logo,
        Apache and the Apache feather logos are trademarks of The Apache Software Foundation.
        </p>
      </div>
  </footer>
      

</body>
</html>
